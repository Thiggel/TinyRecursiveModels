# Caches + logs under HPCVAULT
BASE_CACHE_DIR=${HPCVAULT}/${REPO_NAME}
HF_HOME=${BASE_CACHE_DIR}
HF_DATASETS_CACHE=${BASE_CACHE_DIR}/datasets
HF_MODULES_CACHE=${BASE_CACHE_DIR}/modules
# (left blank to silence deprecation; HF_HOME covers it)
TRANSFORMERS_CACHE=
DEEPSPEED_CACHE_DIR=${BASE_CACHE_DIR}/deepspeed
TRITON_CACHE_DIR=${BASE_CACHE_DIR}/triton
WANDB_DIR=${BASE_CACHE_DIR}/wandb
TORCH_HOME=${BASE_CACHE_DIR}/torch
XDG_CACHE_HOME=${HPCVAULT}/.cache
PYTORCH_LIGHTNING_HOME=${BASE_CACHE_DIR}/lightning_logs
HYDRA_BASE_DIR=${BASE_CACHE_DIR}/hydra
CHECKPOINT_ROOT=${BASE_CACHE_DIR}/checkpoints
JOB_LOG_DIR=${BASE_CACHE_DIR}/job_logs
DATA_ROOT=${BASE_CACHE_DIR}/data
TRM_OVERLAY_PATH=${BASE_CACHE_DIR}/overlays/python-overlay.ext3
PYTHONUSERBASE=${BASE_CACHE_DIR}/python
PYTHONPATH=${BASE_CACHE_DIR}/python/lib/python3.10/site-packages
PIP_CACHE_DIR=${BASE_CACHE_DIR}/pip-cache
PIP_DISABLE_PIP_VERSION_CHECK=1

# Determinism/perf knobs
CUBLAS_WORKSPACE_CONFIG=:4096:8
FLASH_ATTENTION_DETERMINISTIC=0

# tmp
TMPDIR=${SLURM_TMPDIR:-${BASE_CACHE_DIR}/.tmp}

# proxy (uncomment if you need it at runtime)
# http_proxy=http://proxy:80
# https_proxy=http://proxy:80
